<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css"
        integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous" />
    <link rel="stylesheet" href="css/parking.css">
    <style>
        .floor {
            width: 80%;
            background-color: transparent;
            height: 600px;
            background-color: azure
        }

        .row {
            height: 100%;
            width: 100%;
        }

        .sides {
            width: 30%;
            height: 100%;
        }

        .mid {
            width: 100%;
            margin-left: 30px;
        }

        .arrow {
            border-color: transparent;
            border-style: solid;
            border-width: 0 2em;
            display: block;
            height: 0;
            opacity: 0.4;
            text-indent: -9999px;
            transform-origin: 50% 50%;
            width: 0;
            background-color: black;
            color: white;
        }

        .up {
            -webkit-animation: uparrow 0.7s infinite alternate ease-in-out;
            border-bottom: 2em solid #00b6f1;
        }

        @-webkit-keyframes uparrow {
            0% {
                -webkit-transform: translateY(0);
                opacity: 0.4
            }

            100% {
                -webkit-transform: translateY(-0.4em);
                opacity: 0.9
            }
        }

        #mid1 {
            margin-top: 110px;
            height: 27%;
        }

        #mid2 {
            height: 24%;
            margin-top: 40px;
        }

        #mid3 {
            height: 18.6%;
            margin-top: 40px;
        }

        .spaces {
            width: 100%;
            height: 30%;
            background-color: darkgreen;
            opacity: 0.8;
        }

        #first,
        #second,
        #third,
        #fourth,
        #fifth,
        #sixth {

            z-index=5;
        }

        .sidestamp {
            position: absolute;
            background-color: black;
            color: white;
            width: 120px;
            height: 40px;
        }

        .shadow {
            box-shadow: 0 15px 30px 0 rgba(0, 0, 0, 0.11);
        }

        #side1 {
            top: 433px;
            left: 525px;
        }

        #side2 {
            top: 270px;
            left: 525px;
        }

        #side3 {
            left: 525px;
            top: 85px;
        }

        #side4 {
            top: 85px;
            left: 703.6px;
        }

        #side5 {
            top: 270px;
            left: 703.2px;
        }

        #side6 {
            top: 433px;
            left: 703.6px
        }

        .hidden-div {
            display: none;
        }

        @-webkit-keyframes bounceLeft {

            0%,
            20%,
            50%,
            80%,
            100% {
                -webkit-transform: translateX(0);
                transform: translateX(0);
            }

            40% {
                -webkit-transform: translateX(30px);
                transform: translateX(30px);
            }

            60% {
                -webkit-transform: translateX(15px);
                transform: translateX(15px);
            }
        }

        @-moz-keyframes bounceLeft {

            0%,
            20%,
            50%,
            80%,
            100% {
                transform: translateX(0);
            }

            40% {
                transform: translateX(30px);
            }

            60% {
                transform: translateX(15px);
            }
        }

        @keyframes bounceLeft {

            0%,
            20%,
            50%,
            80%,
            100% {
                -ms-transform: translateX(0);
                transform: translateX(0);
            }

            40% {
                -ms-transform: translateX(30px);
                transform: translateX(30px);
            }

            60% {
                -ms-transform: translateX(15px);
                transform: translateX(15px);
            }
        }

        /* right bounce */
        @-webkit-keyframes bounceRight {

            0%,
            20%,
            50%,
            80%,
            100% {
                -webkit-transform: translateX(0);
                transform: translateX(0);
            }

            40% {
                -webkit-transform: translateX(-30px);
                transform: translateX(-30px);
            }

            60% {
                -webkit-transform: translateX(-15px);
                transform: translateX(-15px);
            }
        }

        @-moz-keyframes bounceRight {

            0%,
            20%,
            50%,
            80%,
            100% {
                transform: translateX(0);
            }

            40% {
                transform: translateX(-30px);
            }

            60% {
                transform: translateX(-15px);
            }
        }

        @keyframes bounceRight {

            0%,
            20%,
            50%,
            80%,
            100% {
                -ms-transform: translateX(0);
                transform: translateX(0);
            }

            40% {
                -ms-transform: translateX(-30px);
                transform: translateX(-30px);
            }

            60% {
                -ms-transform: translateX(-15px);
                transform: translateX(-15px);
            }
        }

        /* assign bounce */
        .fa-arrow-right {
            -webkit-animation: bounceRight 2s infinite;
            animation: bounceRight 2s infinite;
            float: right;
        }

        .fa-arrow-left {
            -webkit-animation: bounceLeft 2s infinite;
            animation: bounceLeft 2s infinite;
            float: left
        }


        .parkhere {
            background-color: darkred;
        }

        /* /left bounce */
    </style>
</head>

<body>
    <div class="container bg-light">
        <div class="floor m-auto shadow border border-primary">
            <div class="row">
                <div class="sides col-sm-5 mr-4 m-auto ">
                    <div class="spaces border border-success m-1" id="first"></div>
                    <div class="spaces border border-success m-1" id="second"></div>
                    <div class="spaces border border-success m-1" id="third"></div>
                </div>
                <div class="middle col-sm-2 p-auto" style="width:30% !important;height:98%; position:relative">
                    <div class="mid hidden-div arrow up text-white" id="mid1">Up</div>
                    <div class="mid hidden-div arrow up text-white" id="mid2">Up</div>
                    <div class="mid hidden-div arrow up text-white" id="mid3">Up</div>
                </div>
                <div class="sidestamp hidden-div fa fa-arrow-left text-center" id="side1"><b>left left</b></div>
                <div class="sidestamp hidden-div fa fa-arrow-left text-center" id="side2"><b>left left</b> </div>
                <div class="sidestamp hidden-div fa fa-arrow-left text-center" id="side3"><b>left left</b></div>
                <div class="sidestamp hidden-div fa fa-arrow-right text-center" id="side4"><b>right right</b></div>
                <div class="sidestamp hidden-div fa fa-arrow-right text-center" id="side5"><b>right right</b></div>
                <div class="sidestamp hidden-div fa fa-arrow-right text-center" id="side6"><b>right right</b></div>
                <div class="sides col-sm-5 ml-1  m-auto">
                    <div class="spaces border border-success m-1" id="fourth"></div>
                    <div class="spaces border border-success m-1" id="fifth"></div>
                    <div class="spaces border border-success m-1" id="sixth"></div>
                </div>
            </div>
        </div>
    </div>


    <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.3.1.min.js"></script>

    {{!-- <script src="javascripts/parking.js"></script> --}}
    <script>
        $(document).ready(function () {
            const first = $("#first"),
                second = $("#second"),
                third = $("#third"),
                fourth = $("#fourth"),
                fifth = $("#fifth"),
                sixth = $("#sixth"),
                side1 = $("#side1"),
                side2 = $("#side2"),
                side3 = $("#side3"),
                side4 = $("#side4"),
                side5 = $("#side5"),
                side6 = $("#side6"),
                mid1 = $("#mid1"),
                mid2 = $("#mid2"),
                mid3 = $("#mid3");
            const URL = "https://api.thingspeak.com/channels/773406/feeds.json?api_key=8VELFHFUDOLUNUS6&results=2";


            setInterval(function () {
                console.log('ajax');
                $.ajax({
                    url: URL,
                    method: "GET",
                    success: function (data) {
                        let arr = [1, 0, 1, 1, 0, 0]
                        console.log('something' + data.feeds[1].field1 + "   sdfdsgfdgdf     " + data.feeds[].field2);
                        showPath(arr, data)
                    }
                });
            }, 5000);

            function showPath(arr, data) {
                if (data.feeds[1].field1 < 10) {
                    first.addClass('parkhere');
                    mid3.removeClass('hidden-div');
                    mid2.removeClass('hidden-div');
                    mid1.removeClass('hidden-div');
                    side3.removeClass('hidden-div');
                }
                else {
                    first.removeClass('parkhere');
                    mid3.addClass('hidden-div');
                    mid2.addClass('hidden-div');
                    mid1.addClass('hidden-div');
                    side3.addClass('hidden-div');
                }/*
                {{!-- if (arr[1] == 1) {
                    second.addClass('parkhere');
                    mid3.removeClass('hidden-div');
                    mid2.removeClass('hidden-div');
                    side2.removeClass('hidden-div');
                }
                else {
                    second.removeClass('parkhere');
                    mid3.addClass('hidden-div');
                    mid2.addClass('hidden-div');
                    side2.addClass('hidden-div');
                } --}}*/

                if (data.feeds[1].field2 < 10) {
                    third.addClass('parkhere');
                    mid3.removeClass('hidden-div');
                    side1.removeClass('hidden-div');
                }
                else {
                    third.removeClass('parkhere');
                    mid3.addClass('hidden-div');
                    side1.addClass('hidden-div');
                }
                if (arr[3] == 1) {
                    fourth.addClass('parkhere');
                    mid3.removeClass('hidden-div');
                    mid2.removeClass('hidden-div');
                    mid1.removeClass('hidden-div');
                    side4.removeClass('hidden-div');
                }
                else {
                    fourth.removeClass('parkhere');
                    mid3.addClass('hidden-div');
                    mid2.addClass('hidden-div');
                    mid1.addClass('hidden-div');
                    side4.addClass('hidden-div');
                }
                /*
                {{!-- if (arr[4] == 1) {
                    fifth.addClass('parkhere')
                    mid2.removeClass('hidden-div');
                    mid1.removeClass('hidden-div');
                    side5.removeClass('hidden-div');
                }
                else {
                    fifth.removeClass('parkhere')
                    mid2.addClass('hidden-div');
                    mid1.addClass('hidden-div');
                    side5.addClass('hidden-div');
                } --}}
                if (arr[5] == 1) {
                    sixth.addClass('parkhere');
                    mid3.removeClass('hidden-div');
                    side6.removeClass('hidden-div');
                }
                else {
                    sixth.removeClass('parkhere');
                    mid1.addClass('hidden-div');
                    side6.addClass('hidden-div');
                }*/
            }
        });

    </script>
</body>

</html>